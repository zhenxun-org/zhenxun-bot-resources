<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çœŸå¯»BOTå¸®åŠ©é¡µé¢</title>
    <style>
        @font-face {
            font-family: fzrzFont;
            src: url("../../font/AlibabaHealthFont2.0CN-85B.ttf");
        }


        @font-face {
            font-family: systFont;
            src: url("../../font/syst.otf");
        }

        body {
            position: absolute;
            margin: 0;
            padding: 0;
            font-family: "fzrzFont";
        }

        .wrapper {
            width: {{ data.width}}px;
            background: linear-gradient(135deg, #f67186, #f7889c);
            position: relative;
            padding: 15px;
            box-sizing: border-box;
        }

        .main {
            width: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 20px;
            box-sizing: border-box;
            position: relative;
        }

        /* å¤´éƒ¨åŒºåŸŸ */
        .header {
            background: linear-gradient(135deg, #f67186, #f7889c);
            margin: -20px -20px 15px -20px;
            padding: 15px;
            border-radius: 20px 20px 0 0;
            color: white;
        }

        .header-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .logo-section {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin: 0 auto;
        }

        .logo-img {
            width: 220px;
            border-radius: 8px;
            object-fit: cover;
        }

        .head-text {
            font-size: {{data.font_size[0]}}px;
            font-family: "fzrzFont";
            margin: 0;
            line-height: 1.2;
        }

        .top-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin: 0 auto;
        }

        .divider {
            width: 2px;
            height: 40px;
            background: rgba(255, 255, 255, 0.3);
            margin: 0 10px;
        }

        .avatar {
            height: 55px;
            width: 55px;
            border-radius: 50%;
            border: 2px solid white;
            overflow: hidden;
        }

        .avatar-img {
            height: 100%;
            width: 100%;
            object-fit: cover;
            border-radius: 50%;
            overflow: hidden;
        }

        .stats {
            display: flex;
            gap: 10px;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 6px 10px;
            text-align: center;
            font-size: 15px;
        }

        .stat-number {
            font-size: 14px;
            font-weight: bold;
            font-family: "fzrzFont";
        }

        /* æç¤ºåŒºåŸŸ */
        .tips-section {
            background: rgba(246, 113, 134, 0.1);
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 15px;
        }

        .tips-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }

        .tip-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 11px;
            color: #666;
        }

        .tip-icon {
            width: 14px;
            height: 14px;
            background: linear-gradient(135deg, #f67186, #f7889c);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 8px;
            flex-shrink: 0;
        }

        /* ä½¿ç”¨Gridå¸ƒå±€å®ç°å·¦å³äº¤æ›¿ */
        .masonry-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            align-items: start;
        }

        .category-card {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(246, 113, 134, 0.2);
            border-radius: 10px;
            padding: 0;
            margin-bottom: 12px;
            display: block;
        }

        /* æ’ä»¶æ•°é‡<10æ—¶ï¼Œå¡ç‰‡æ­£å¸¸æ˜¾ç¤ºåœ¨gridä¸­ */
        .category-card.small-items {
            /* é»˜è®¤å ç”¨ä¸€ä¸ªgridå•å…ƒæ ¼ */
        }

        /* æ’ä»¶æ•°é‡â‰¥10æ—¶ï¼Œå¡ç‰‡æ¨ªè·¨ä¸¤åˆ— */
        .category-card.many-items {
            grid-column: 1 / -1;
        }

        .category-title {
            background: linear-gradient(135deg, #f67186, #f7889c);
            color: white;
            font-family: "fzrzFont";
            font-size: 13px;
            padding: 8px 12px;
            border-radius: 10px 10px 0 0;
            text-align: center;
            position: relative;
        }

        .category-count {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.3);
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 10px;
        }

        /* æ’ä»¶åˆ—è¡¨ - é»˜è®¤å•åˆ— */
        .plugin-list {
            padding: 10px;
        }

        /* æ’ä»¶åˆ—è¡¨ - åŒåˆ—å¸ƒå±€ï¼ˆå½“æ’ä»¶æ•°é‡â‰¥10æ—¶ï¼‰ */
        .plugin-list.two-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            padding: 10px;
        }

        .plugin-item {
            background: rgba(246, 113, 134, 0.05);
            border: 1px solid rgba(246, 113, 134, 0.15);
            border-radius: 6px;
            padding: 6px 8px;
            margin-bottom: 6px;
        }

        /* åŒåˆ—å¸ƒå±€æ—¶å–æ¶ˆä¸‹è¾¹è· */
        .plugin-list.two-columns .plugin-item {
            margin-bottom: 0;
        }

        .plugin-item:last-child {
            margin-bottom: 0;
        }

        .plugin-header {
            display: flex;
            align-items: center;
            margin-bottom: 4px;
        }

        .plugin-id {
            color: #f67186;
            font-weight: bold;
            font-size: 10px;
            margin-right: 6px;
            font-family: "systFont";
            min-width: 20px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            line-height: normal;
        }

        .plugin-name {
            font-size: 11px;
            font-weight: bold;
            color: #333;
            flex: 1;
            border-left: 1px solid rgba(246, 113, 134, 0.3);
            padding-left: 6px;
        }

        .plugin-badges {
            display: flex;
            gap: 2px;
            margin-left: 6px;
        }

        .badge {
            padding: 1px 4px;
            border-radius: 6px;
            font-size: 8px;
            font-weight: bold;
            color: white;
            font-family: "systFont";
        }

        .badge.available {
            background: #4CAF50;
        }

        .badge.unavailable {
            background: #f44336;
        }

        .badge.admin {
            background: #FF9800;
        }

        .badge.hot {
            background: #E91E63;
        }

        .badge.super_help {
            background: #73c0ea;
        }

        .plugin-commands {
            display: flex;
            flex-wrap: wrap;
            gap: 3px;
            margin-top: 4px;
        }

        .command {
            background: linear-gradient(135deg, #f67186, #f7889c);
            color: white;
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 9px;
            white-space: nowrap;
        }

        /* åº•éƒ¨è£…é¥° */
        .zx-img {
            position: absolute;
            width: 170px;
            bottom: 5px;
            right: 5px;
            opacity: 0.6;
        }

        /* ç©ºçŠ¶æ€ */
        .empty-category {
            text-align: center;
            color: #999;
            font-size: 11px;
            padding: 15px;
            font-style: italic;
        }

        /* ç¡®ä¿æ²¡æœ‰åŠ¨ç”»æ•ˆæœ */
        *,
        *::before,
        *::after {
            animation-duration: 0s !important;
            transition-duration: 0s !important;
        }

        /* ä¼˜åŒ–é•¿åˆ—è¡¨æ˜¾ç¤º */
        .category-card.many-items .plugin-list {
            max-height: none;
        }

        /* å¹³è¡¡ç€‘å¸ƒæµä¸­çš„é¡¹ç›®é«˜åº¦ */
        .category-card {
            min-height: 80px;
        }

        /* ç¡®ä¿å›¾ç‰‡ä¸ä¼šå½±å“å¸ƒå±€ */
        img {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>

<body>
    <div class="wrapper">
        <div class="main">
            <!-- å¤´éƒ¨åŒºåŸŸ -->
            <div class="header">
                <div class="header-top">
                    <div class="logo-section">
                        <img class="logo-img" src="../../image/logo.png" alt="Logo">
                    </div>

                    <div class="divider"></div>

                    <div class="top-info">
                        <div class="avatar">
                            <img class="avatar-img" src="{{data.ava}}" alt="çœŸå¯»">
                        </div>
                        <div class="stats">
                            <div class="stat-item">
                                <div class="stat-number">{{data.plugin_count or 45}}</div>
                                <div>åŠŸèƒ½</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">{{data.active_count or 38}}</div>
                                <div>å¯ç”¨</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">{{data.hot_count or 12}}</div>
                                <div>çƒ­é—¨</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- æç¤ºåŒºåŸŸ -->
            <div class="tips-section">
                <div class="tips-grid">
                    <div class="tip-item">
                        <div class="tip-icon">?</div>
                        <span>ATæˆ‘ å‘é€ "å¸®åŠ© åŠŸèƒ½å/ID" æŸ¥çœ‹åŠŸèƒ½è¯¦æƒ…</span>
                    </div>
                    <div class="tip-item">
                        <div class="tip-icon">ğŸ“‹</div>
                        <span>å‘é€ "è¯¦ç»†å¸®åŠ©" æŸ¥çœ‹æ‰€æœ‰æŒ‡ä»¤è¯¦æƒ…</span>
                    </div>
                    <div class="tip-item">
                        <div class="tip-icon">ğŸ‘‘</div>
                        <span>ç¾¤ä¸»/ç¾¤ç®¡ä½¿ç”¨ "ç®¡ç†å‘˜å¸®åŠ©" æŒ‡ä»¤æŸ¥çœ‹ç®¡ç†æŒ‡ä»¤</span>
                    </div>
                </div>
            </div>

            <!-- åŠŸèƒ½åˆ—è¡¨ - ç€‘å¸ƒæµå¸ƒå±€ -->
            <div class="masonry-container">
                {% for plugin in data['plugin_list'] %}
                {% set plugin_count = plugin['items']|length if plugin['items'] else 0 %}
                <div class="category-card {% if plugin_count < 10 %}small-items{% else %}many-items{% endif %}">
                    <div class="category-title">
                        {{plugin.name}}
                        <span class="category-count">{{plugin_count}}</span>
                    </div>

                    {% if plugin_count == 0 %}
                    <div class="empty-category">æš‚æ— åŠŸèƒ½</div>
                    {% else %}
                    <div class="plugin-list{% if plugin_count >= 10 %} two-columns{% endif %}">
                        {% for item in plugin['items'] %}
                        <div class="plugin-item">
                            <div class="plugin-header">
                                <span class="plugin-id">{{item.id}}</span>
                                <span class="plugin-name">{{item.plugin_name}}</span>
                                <div class="plugin-badges">

                                    {% if item.is_hot %}
                                    <span class="badge hot">ğŸ”¥</span>
                                    {% endif %}
                                    {% if item.has_superuser_help %}
                                    <span class="badge super_help">è¶…çº§ç”¨æˆ·å¸®åŠ©</span>
                                    {% endif %}
                                    {% if item.status %}
                                    <!-- <span class="badge available">å¯ç”¨</span> -->
                                    {% else %}
                                    <span class="badge unavailable">ç¦ç”¨</span>
                                    {% endif %}
                                </div>
                            </div>

                            {% if item.commands %}
                            <div class="plugin-commands">
                                {% for command in item.commands %}
                                <span class="command">{{command}}</span>
                                {% endfor %}
                            </div>
                            {% endif %}
                        </div>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                {% endfor %}
            </div>

            <img src="./res/img/3.png" class="zx-img" />
        </div>
    </div>
</body>

</html>